"use strict";var _eventemitter=_interopRequireDefault(require("eventemitter3"));Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=exports.execute=exports.load=exports.hideBadge=exports.showBadge=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var scriptId="recaptcha-frontend",badgeStyleId="recaptcha-frontend-badge",cachedSiteKey=null,readyEmitter=new _eventemitter["default"];window.handleRecaptchaLoad=function(){readyEmitter.emit("ready"),readyEmitter.removeAllListeners("ready")};var showBadge=function(){var a=document.getElementById(badgeStyleId);a&&document.head.removeChild(a)};exports.showBadge=showBadge;var hideBadge=function(){if(!document.getElementById(badgeStyleId)){var a=document.createElement("style");a.id=badgeStyleId,a.innerHTML=".grecaptcha-badge { visibility: hidden; }",document.head.appendChild(a)}};exports.hideBadge=hideBadge;var load=function(a){var b=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];return new Promise(function(c,d){var e=window,f=e.grecaptcha;if(f)c();else if(document.getElementById(scriptId))readyEmitter.addListener("ready",function(){c()});else{var g=document.createElement("script");readyEmitter.addListener("ready",function(){cachedSiteKey=a,c()});var h=function(){g.removeEventListener("error",h),d()};g.id=scriptId,g.type="text/javascript",g.src="https://".concat(b?"www.recaptcha.net":"www.google.com","/recaptcha/api.js?onload=handleRecaptchaLoad&render=").concat(a),g.async=!0,g.defer=!0,g.addEventListener("error",h),document.head.appendChild(g)}})};exports.load=load;var execute=function(a,b){var c=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];return new Promise(function(d,e){b=b||cachedSiteKey,load(b,c).then(function(){window.grecaptcha.execute(b,{action:a}).then(d)})["catch"](e)})};exports.execute=execute;var _default=execute;exports["default"]=_default;